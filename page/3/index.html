<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  
  <meta name="description" content="Yam | AI | NLP | 人工智能 | 哲学 | 自然语言处理 | 机器学习" />
  

  
  
  
  
  
  <title>Yam</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Yam | AI | NLP | 人工智能 | 哲学 | 自然语言处理 | 机器学习">
<meta property="og:type" content="website">
<meta property="og:title" content="Yam">
<meta property="og:url" content="http://www.yam.gift/page/3/index.html">
<meta property="og:site_name" content="Yam">
<meta property="og:description" content="Yam | AI | NLP | 人工智能 | 哲学 | 自然语言处理 | 机器学习">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yam">
<meta name="twitter:description" content="Yam | AI | NLP | 人工智能 | 哲学 | 自然语言处理 | 机器学习">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  

  
  <!-- baidu webmaster push --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body class="home blog custom-background custom-font-enabled single-author">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Yam" rel="home">Yam</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Feeling, Coding, Thinking</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives/">Archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/about/">About</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://github.com/hscspring">Projects</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main">
  
    <article id="post-2017-02-15-list-dict-series-dataframe-ndarray-transform" class="post-2017-02-15-list-dict-series-dataframe-ndarray-transform post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/2017/02/15/2017-02-15-list-dict-series-dataframe-ndarray-transform/">List, Dict, Array, Series, DataFrame 相互转换</a>
    </h1>
  

        
        <!-- <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://www.yam.gift/2017/02/15/2017-02-15-list-dict-series-dataframe-ndarray-transform/" data-id="cjtx2yw770021vcccrz5yeadp" class="leave-reply bdsharebuttonbox" data-cmd="more">undefined</a>
        </div> --><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
            <!-- Table of Contents -->
              
        <h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><ul>
<li>dict to series</li>
<li>dict to dataframe</li>
<li>list to series</li>
<li>list to dataframe</li>
<li>list to array</li>
<li>array to dataframe</li>
<li>series to array</li>
<li>dataframe to array</li>
<li>dataframe to dict</li>
</ul>
<h2 id="1-输入-Dict"><a href="#1-输入-Dict" class="headerlink" title="1. 输入 Dict"></a>1. 输入 Dict</h2><ul>
<li>dict to series</li>
<li>dict to dataframe</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"></span><br><span class="line"><span class="comment"># dict</span></span><br><span class="line">data = &#123; <span class="string">'state'</span>: [<span class="string">'Ohino'</span>, <span class="string">'Ohino'</span>, <span class="string">'Ohino'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>],</span><br><span class="line">         <span class="string">'year'</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>],</span><br><span class="line">         <span class="string">'pop'</span>: [<span class="number">1.5</span>, <span class="number">1.7</span>, <span class="number">3.6</span>, <span class="number">2.4</span>, <span class="number">2.9</span>]&#125;  <span class="comment"># type(data) 为 dict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dict to series，若不指定 index，data 的 key 充当 Series 的 index</span></span><br><span class="line">ser = Series(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># dict to dataframe，若不指定 columns，data 的 key 充当 DataFrame 的 columns</span></span><br><span class="line">df = DataFrame(data)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;pop&#39;: [1.5, 1.7, 3.6, 2.4, 2.9],
 &#39;state&#39;: [&#39;Ohino&#39;, &#39;Ohino&#39;, &#39;Ohino&#39;, &#39;Nevada&#39;, &#39;Nevada&#39;],
 &#39;year&#39;: [2000, 2001, 2002, 2001, 2002]}
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dict to series，若不指定 index，data 的 key 充当 Series 的 index</span></span><br><span class="line">ser = Series(data)</span><br><span class="line">ser</span><br></pre></td></tr></table></figure>
<pre><code>pop                  [1.5, 1.7, 3.6, 2.4, 2.9]
state    [Ohino, Ohino, Ohino, Nevada, Nevada]
year            [2000, 2001, 2002, 2001, 2002]
dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dict to dataframe，若不指定 columns，data 的 key 充当 DataFrame 的 columns</span></span><br><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>pop</th>
<th>state</th>
<th>year</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1.5</td>
<td>Ohino</td>
<td>2000</td>
</tr>
<tr>
<td>1</td>
<td>1.7</td>
<td>Ohino</td>
<td>2001</td>
</tr>
<tr>
<td>2</td>
<td>3.6</td>
<td>Ohino</td>
<td>2002</td>
</tr>
<tr>
<td>3</td>
<td>2.4</td>
<td>Nevada</td>
<td>2001</td>
</tr>
<tr>
<td>4</td>
<td>2.9</td>
<td>Nevada</td>
<td>2002</td>
</tr>
</tbody>
</table>
</div>
<h2 id="2-输入-List"><a href="#2-输入-List" class="headerlink" title="2. 输入 List"></a>2. 输入 List</h2><ul>
<li>list to series</li>
<li>list to dataframe</li>
<li>list to array</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"></span><br><span class="line"><span class="comment"># list</span></span><br><span class="line">data = [[<span class="number">2000</span>, <span class="string">'Ohino'</span>, <span class="number">1.5</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Ohino'</span>, <span class="number">1.7</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Ohino'</span>, <span class="number">3.6</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Nevada'</span>, <span class="number">2.4</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Nevada'</span>, <span class="number">2.9</span>]]  <span class="comment"># type(data) 为 list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list to series</span></span><br><span class="line">ser = Series(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># list to dataframe</span></span><br><span class="line">df = DataFrame(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>], columns = [<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># list to array</span></span><br><span class="line">ndarray = np.array(data)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(data)</span><br></pre></td></tr></table></figure>
<pre><code>list
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>
<pre><code>[[2000, &#39;Ohino&#39;, 1.5],
 [2001, &#39;Ohino&#39;, 1.7],
 [2002, &#39;Ohino&#39;, 3.6],
 [2001, &#39;Nevada&#39;, 2.4],
 [2002, &#39;Nevada, 2.9&#39;]]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list to series</span></span><br><span class="line">ser = Series(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>])</span><br><span class="line">ser</span><br></pre></td></tr></table></figure>
<pre><code>one       [2000, Ohino, 1.5]
two       [2001, Ohino, 1.7]
three     [2002, Ohino, 3.6]
four     [2001, Nevada, 2.4]
five     [2002, Nevada, 2.9]
dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(ser)</span><br></pre></td></tr></table></figure>
<pre><code>pandas.core.series.Series
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser.shape</span><br></pre></td></tr></table></figure>
<pre><code>(5,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list to dataframe</span></span><br><span class="line">df = DataFrame(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>], columns = [<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>year</th>
<th>state</th>
<th>pop</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>one</strong></td>
<td>2000</td>
<td>Ohino</td>
<td>1.5</td>
</tr>
<tr>
<td><strong>two</strong></td>
<td>2001</td>
<td>Ohino</td>
<td>1.7</td>
</tr>
<tr>
<td><strong>three</strong></td>
<td>2002</td>
<td>Ohino</td>
<td>3.6</td>
</tr>
<tr>
<td><strong>four</strong></td>
<td>2001</td>
<td>Nevada</td>
<td>2.4</td>
</tr>
<tr>
<td><strong>five</strong></td>
<td>2002</td>
<td>Nevada</td>
<td>2.9</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(df)</span><br></pre></td></tr></table></figure>
<pre><code>pandas.core.frame.DataFrame
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.shape</span><br></pre></td></tr></table></figure>
<pre><code>(5, 3)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list to ndarray</span></span><br><span class="line">ndarray = np.array(data)</span><br><span class="line">ndarray</span><br></pre></td></tr></table></figure>
<pre><code>array([[&#39;2000&#39;, &#39;Ohino&#39;, &#39;1.5&#39;],
       [&#39;2001&#39;, &#39;Ohino&#39;, &#39;1.7&#39;],
       [&#39;2002&#39;, &#39;Ohino&#39;, &#39;3.6&#39;],
       [&#39;2001&#39;, &#39;Nevada&#39;, &#39;2.4&#39;],
       [&#39;2002&#39;, &#39;Nevada&#39;, &#39;2.9&#39;]],
      dtype=&#39;|S21&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ndarray.shape</span><br></pre></td></tr></table></figure>
<pre><code>(5, 3)
</code></pre><h2 id="3-输入-Array"><a href="#3-输入-Array" class="headerlink" title="3 输入 Array"></a>3 输入 Array</h2><ul>
<li>array to dataframe</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"></span><br><span class="line"><span class="comment"># list</span></span><br><span class="line">data = [[<span class="number">2000</span>, <span class="string">'Ohino'</span>, <span class="number">1.5</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Ohino'</span>, <span class="number">1.7</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Ohino'</span>, <span class="number">3.6</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Nevada'</span>, <span class="number">2.4</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Nevada'</span>, <span class="number">2.9</span>]]  <span class="comment"># type(data) 为 list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list to array</span></span><br><span class="line">ndarray = np.array(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># array to dataframe</span></span><br><span class="line">pd = DataFrame(ndarray, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>], columns = [<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ndarray</span><br><span class="line"><span class="comment"># 注意：array 中所有数据类型均是一样的</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[&#39;2000&#39;, &#39;Ohino&#39;, &#39;1.5&#39;],
       [&#39;2001&#39;, &#39;Ohino&#39;, &#39;1.7&#39;],
       [&#39;2002&#39;, &#39;Ohino&#39;, &#39;3.6&#39;],
       [&#39;2001&#39;, &#39;Nevada&#39;, &#39;2.4&#39;],
       [&#39;2002&#39;, &#39;Nevada&#39;, &#39;2.9&#39;]],
      dtype=&#39;|S21&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>year</th>
<th>state</th>
<th>pop</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>one</strong></td>
<td>2000</td>
<td>Ohino</td>
<td>1.5</td>
</tr>
<tr>
<td><strong>two</strong></td>
<td>2001</td>
<td>Ohino</td>
<td>1.7</td>
</tr>
<tr>
<td><strong>three</strong></td>
<td>2002</td>
<td>Ohino</td>
<td>3.6</td>
</tr>
<tr>
<td><strong>four</strong></td>
<td>2001</td>
<td>Nevada</td>
<td>2.4</td>
</tr>
<tr>
<td><strong>five</strong></td>
<td>2002</td>
<td>Nevada</td>
<td>2.9</td>
</tr>
</tbody>
</table>
</div>
<h2 id="4-输入-DataFrame"><a href="#4-输入-DataFrame" class="headerlink" title="4. 输入 DataFrame"></a>4. 输入 DataFrame</h2><ul>
<li>series to array</li>
<li>dataframe to array</li>
<li>dataframe to dict</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"></span><br><span class="line"><span class="comment"># list</span></span><br><span class="line">data = [[<span class="number">2000</span>, <span class="string">'Ohino'</span>, <span class="number">1.5</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Ohino'</span>, <span class="number">1.7</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Ohino'</span>, <span class="number">3.6</span>],</span><br><span class="line">        [<span class="number">2001</span>, <span class="string">'Nevada'</span>, <span class="number">2.4</span>],</span><br><span class="line">        [<span class="number">2002</span>, <span class="string">'Nevada'</span>, <span class="number">2.9</span>]]  <span class="comment"># type(data) 为 list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list to series</span></span><br><span class="line">ser = Series(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># list to dataframe</span></span><br><span class="line">df = DataFrame(data, index = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>], columns = [<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># series to array</span></span><br><span class="line">foo = ser.as_matrix()</span><br><span class="line">foo0 = Series.as_matrix(ser)</span><br><span class="line"></span><br><span class="line"><span class="comment"># dataframe to array, foo2 foo3 foo4 结果相同</span></span><br><span class="line">foo1 = DataFrame.as_matrix(df)</span><br><span class="line">foo2 = df.as_matrix()</span><br><span class="line">foo3 = df.values</span><br><span class="line">foo4 = np.array(df)</span><br><span class="line"></span><br><span class="line">foo5 = df.as_matrix([<span class="string">"pop"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># dataframe to dict</span></span><br><span class="line"><span class="comment"># outtype的参数为‘dict’、‘list’、‘series’和‘records’。</span></span><br><span class="line"><span class="comment"># dict返回的是dict of dict；list返回的是列表的字典；series返回的是序列的字典；records返回的是字典的列表</span></span><br><span class="line">df1 = df.to_dict(orient=<span class="string">'dict'</span>)</span><br><span class="line">df2 = df.to_dict(orient=<span class="string">'list'</span>)</span><br><span class="line">df3 = df.to_dict(orient=<span class="string">'series'</span>)</span><br><span class="line">df4 = df.to_dict(orient=<span class="string">'records'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># series to ndarray</span></span><br><span class="line">foo = ser.as_matrix()</span><br><span class="line">foo0 = Series.as_matrix(ser)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5], [2001, &#39;Ohino&#39;, 1.7], [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4], [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo0</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5], [2001, &#39;Ohino&#39;, 1.7], [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4], [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(foo)</span><br></pre></td></tr></table></figure>
<pre><code>numpy.ndarray
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo.shape, foo0.shape</span><br></pre></td></tr></table></figure>
<pre><code>((5,), (5,))
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dataframe to ndarray foo2 foo3 foo4 结果相同</span></span><br><span class="line">foo1 = DataFrame.as_matrix(df)</span><br><span class="line">foo2 = df.as_matrix()</span><br><span class="line">foo3 = df.values</span><br><span class="line">foo4 = np.array(df)</span><br><span class="line"></span><br><span class="line">foo5 = df.as_matrix([<span class="string">"pop"</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo1</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5],
       [2001, &#39;Ohino&#39;, 1.7],
       [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4],
       [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo2</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5],
       [2001, &#39;Ohino&#39;, 1.7],
       [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4],
       [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo3</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5],
       [2001, &#39;Ohino&#39;, 1.7],
       [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4],
       [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo4</span><br></pre></td></tr></table></figure>
<pre><code>array([[2000, &#39;Ohino&#39;, 1.5],
       [2001, &#39;Ohino&#39;, 1.7],
       [2002, &#39;Ohino&#39;, 3.6],
       [2001, &#39;Nevada&#39;, 2.4],
       [2002, &#39;Nevada&#39;, 2.9]], dtype=object)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo5</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1.5],
       [ 1.7],
       [ 3.6],
       [ 2.4],
       [ 2.9]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo1.shape, foo2.shape, foo3.shape, foo4.shape, foo5.shape</span><br></pre></td></tr></table></figure>
<pre><code>((5, 3), (5, 3), (5, 3), (5, 3), (5, 1))
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>year</th>
<th>state</th>
<th>pop</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>one</strong></td>
<td>2000</td>
<td>Ohino</td>
<td>1.5</td>
</tr>
<tr>
<td><strong>two</strong></td>
<td>2001</td>
<td>Ohino</td>
<td>1.7</td>
</tr>
<tr>
<td><strong>three</strong></td>
<td>2002</td>
<td>Ohino</td>
<td>3.6</td>
</tr>
<tr>
<td><strong>four</strong></td>
<td>2001</td>
<td>Nevada</td>
<td>2.4</td>
</tr>
<tr>
<td><strong>five</strong></td>
<td>2002</td>
<td>Nevada</td>
<td>2.9</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dataframe to dict, dict返回的是dict of dict；list返回的是列表的字典；series返回的是序列的字典；records返回的是字典的列表</span></span><br><span class="line">df1 = df.to_dict(orient=<span class="string">'dict'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;pop&#39;: {&#39;five&#39;: 2.9,
  &#39;four&#39;: 2.4,
  &#39;one&#39;: 1.5,
  &#39;three&#39;: 3.6,
  &#39;two&#39;: 1.7},
 &#39;state&#39;: {&#39;five&#39;: &#39;Nevada&#39;,
  &#39;four&#39;: &#39;Nevada&#39;,
  &#39;one&#39;: &#39;Ohino&#39;,
  &#39;three&#39;: &#39;Ohino&#39;,
  &#39;two&#39;: &#39;Ohino&#39;},
 &#39;year&#39;: {&#39;five&#39;: 2002, &#39;four&#39;: 2001, &#39;one&#39;: 2000, &#39;three&#39;: 2002, &#39;two&#39;: 2001}}
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(df1)</span><br></pre></td></tr></table></figure>
<pre><code>dict
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dataframe to dict, dict返回的是dict of dict；list返回的是列表的字典；series返回的是序列的字典；records返回的是字典的列表</span></span><br><span class="line">df2 = df.to_dict(orient=<span class="string">'list'</span>)</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;pop&#39;: [1.5, 1.7, 3.6, 2.4, 2.9],
 &#39;state&#39;: [&#39;Ohino&#39;, &#39;Ohino&#39;, &#39;Ohino&#39;, &#39;Nevada&#39;, &#39;Nevada&#39;],
 &#39;year&#39;: [2000, 2001, 2002, 2001, 2002]}
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(df2)</span><br></pre></td></tr></table></figure>
<pre><code>dict
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dataframe to dict, dict返回的是dict of dict；list返回的是列表的字典；series返回的是序列的字典；records返回的是字典的列表</span></span><br><span class="line">df3 = df.to_dict(orient=<span class="string">'series'</span>)</span><br><span class="line">df3</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;pop&#39;: one      1.5
 two      1.7
 three    3.6
 four     2.4
 five     2.9
 Name: pop, dtype: float64, &#39;state&#39;: one       Ohino
 two       Ohino
 three     Ohino
 four     Nevada
 five     Nevada
 Name: state, dtype: object, &#39;year&#39;: one      2000
 two      2001
 three    2002
 four     2001
 five     2002
 Name: year, dtype: int64}
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(df3)</span><br></pre></td></tr></table></figure>
<pre><code>dict
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dataframe to dict, dict返回的是dict of dict；list返回的是列表的字典；series返回的是序列的字典；records返回的是字典的列表</span></span><br><span class="line">df4 = df.to_dict(orient=<span class="string">'records'</span>)</span><br><span class="line">df4</span><br></pre></td></tr></table></figure>
<pre><code>[{&#39;pop&#39;: 1.5, &#39;state&#39;: &#39;Ohino&#39;, &#39;year&#39;: 2000},
 {&#39;pop&#39;: 1.7, &#39;state&#39;: &#39;Ohino&#39;, &#39;year&#39;: 2001},
 {&#39;pop&#39;: 3.6, &#39;state&#39;: &#39;Ohino&#39;, &#39;year&#39;: 2002},
 {&#39;pop&#39;: 2.4, &#39;state&#39;: &#39;Nevada&#39;, &#39;year&#39;: 2001},
 {&#39;pop&#39;: 2.9, &#39;state&#39;: &#39;Nevada&#39;, &#39;year&#39;: 2002}]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(df4)</span><br></pre></td></tr></table></figure>
<pre><code>list
</code></pre><h2 id="4-总结：List-Dict-Array-Series-DataFrame-的区别"><a href="#4-总结：List-Dict-Array-Series-DataFrame-的区别" class="headerlink" title="4. 总结：List, Dict, Array, Series, DataFrame 的区别"></a>4. 总结：List, Dict, Array, Series, DataFrame 的区别</h2><ul>
<li>List 和 Dict 是 Python 的基本数据结构</li>
<li>Series 和 DataFrame 是 Pandas 的基本数据结构</li>
<li>Array 是 Numpy 的数据结构</li>
</ul>
<h3 id="4-1-Pandas-中的数据结构"><a href="#4-1-Pandas-中的数据结构" class="headerlink" title="4.1 Pandas 中的数据结构"></a>4.1 Pandas 中的数据结构</h3><h4 id="4-1-1-Series"><a href="#4-1-1-Series" class="headerlink" title="4.1.1 Series"></a>4.1.1 Series</h4><ul>
<li>Series 是一个一维的类似的数组对象，包含一个数组的数据（任何 NumPy 的数据类型）和一个与数组关联的数据标签，被叫做<strong>索引</strong>。最简单的Series是由一个数组的数据构成。</li>
<li>Series 是一个定长的，有序的字典，因为它把索引和值映射起来了。</li>
<li>Series 与 Numpy 中的一维 array 类似。二者与 Python 基本的数据结构 List 也很相近。其区别是：List 中的元素可以是不同的数据类型，而 Array 和 Series 中则只允许存储相同的数据类型，这样可以更有效的使用内存，提高运算效率。</li>
<li>Time-Series：以时间为索引的 Series。</li>
</ul>
<h4 id="4-1-2-DataFrame"><a href="#4-1-2-DataFrame" class="headerlink" title="4.1.2 DataFrame"></a>4.1.2 DataFrame</h4><ul>
<li>DataFrame：<strong>二维</strong>的表格型数据结构。很多功能与 R 中的 data.frame 类似。可以将 DataFrame 理解为 Series 的容器。</li>
<li>有很多方法来构建一个 DataFrame，但最常用的一个是用一个相等长度列表的字典或 NumPy 数组。</li>
<li>像 Series 一样， DataFrame 的 values 属性返回一个包含在 DataFrame 中的数据的二维 ndarray。</li>
<li>Panel ：三维的数组，可以理解为 DataFrame 的容器。</li>
</ul>
<p><strong>可能的传递到DataFrame的构造器</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>构造器</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>二维ndarray</td>
<td>一个数据矩阵，有可选的行标和列标</td>
</tr>
<tr>
<td>数组，列表或元组的字典</td>
<td>每一个序列成为DataFrame中的一列。所有的序列必须有相同的长度。</td>
</tr>
<tr>
<td>NumPy的结构/记录数组</td>
<td>和“数组字典”一样处理</td>
</tr>
<tr>
<td>Series的字典</td>
<td>每一个值成为一列。如果没有明显的传递索引，将结合每一个Series的索引来形成结果的行索引。</td>
</tr>
<tr>
<td>字典的字典</td>
<td>每一个内部的字典成为一列。和“Series的字典”一样，结合键值来形成行索引。</td>
</tr>
<tr>
<td>字典或Series的列表</td>
<td>每一项成为DataFrame中的一列。结合字典键或Series索引形成DataFrame的列标。</td>
</tr>
<tr>
<td>列表或元组的列表</td>
<td>和“二维ndarray”一样处理</td>
</tr>
<tr>
<td>另一个DataFrame</td>
<td>DataFrame的索引将被使用，除非传递另外一个</td>
</tr>
<tr>
<td>NumPy伪装数组（MaskedArray）</td>
<td>除了蒙蔽值在DataFrame中成为NA/丢失数据之外，其它的和“二维ndarray”一样</td>
</tr>
</tbody>
</table>
</div>
<h3 id="4-2-Numpy-操作"><a href="#4-2-Numpy-操作" class="headerlink" title="4.2 Numpy 操作"></a>4.2 Numpy 操作</h3><ul>
<li><p>基本操作</p>
<ul>
<li>np.array 创建数组，调用 astype 总是会创建一个新的数组（原数据的拷贝），即使是新的 dtype 和原来的 dtype 相同。</li>
<li>索引，切片等详见：<a href="http://pda.readthedocs.io/en/latest/chp4.html" target="_blank" rel="noopener">http://pda.readthedocs.io/en/latest/chp4.html</a></li>
</ul>
</li>
<li><p>通用函数</p>
</li>
<li><p>数据处理</p>
<ul>
<li>np.meshgrid 函数接受两个一维数组并产生两个二维矩阵，其值对于两个数组的所有 (x, y) 对。</li>
<li>函数 numpy.where 是三元表达式 x if condition else y 的矢量化版本。</li>
<li>mean 和 sun 函数可以有一个可选的 axis 参数，它对给定坐标轴进行统计，结果数组将会减少一个维度。</li>
<li>有两个额外的方法， any 和 all ，对布尔数组尤其有用。 any 用来测试一个数组中是否有一个或更多的 True ，而 all 用来测试所有的值是否为 True。</li>
<li>顶层的 np.sort 函数返回一个经过排序后的数组拷贝，而不是就地修改。</li>
<li>Numpy 有一些基本的针对一维 ndarrays 的集合操作。最常使用的一个可能是 np.unique ，它返回一个数组的经过排序的 unique 值。</li>
</ul>
</li>
<li><p>线性代数</p>
<ul>
<li>numpy.linalg 有一个关于矩阵分解和像转置和行列式等的一个标准集合。</li>
</ul>
</li>
</ul>
<h2 id="参考网站"><a href="#参考网站" class="headerlink" title="参考网站"></a>参考网站</h2><ul>
<li><a href="http://pda.readthedocs.io/en/latest/chp5.html" target="_blank" rel="noopener">Pandas 入门</a></li>
<li>整理自：<a href="http://www.lining0806.com/numpy%E7%9A%84ndarray%E4%B8%8Epandas%E7%9A%84series%E5%92%8Cdataframe%E4%B9%8B%E9%97%B4%E4%BA%92%E8%BD%AC/" target="_blank" rel="noopener">宁哥的小站</a></li>
</ul>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2017/02/15/2017-02-15-list-dict-series-dataframe-ndarray-transform/">
    <time datetime="2017-02-15T10:00:00.000Z" class="entry-date">
        2017-02-15
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/Coding/">Coding</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataClearing/">DataClearing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataScience/">DataScience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
</article>





  
    <article id="post-2016-09-19-NumPy" class="post-2016-09-19-NumPy post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/2016/09/19/2016-09-19-NumPy/">Numpy 入门</a>
    </h1>
  

        
        <!-- <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://www.yam.gift/2016/09/19/2016-09-19-NumPy/" data-id="cjtx2yw75001zvccc9f8ta0ub" class="leave-reply bdsharebuttonbox" data-cmd="more">undefined</a>
        </div> --><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
            <!-- Table of Contents -->
              
        <p><strong>NumPy 笔记目录</strong></p>
<ul>
<li><a href="#Array Creation">Array Creation</a><ul>
<li><a href="#np.arange">np.arange</a></li>
<li><a href="#np.array">np.array</a></li>
</ul>
</li>
<li><a href="#Basic Operations">Basic Operations</a><ul>
<li><a href="#dot">dot</a></li>
<li><a href="#axis">axis</a></li>
</ul>
</li>
<li><a href="#Indexing, Slicing and Iterating">Indexing, Slicing and Iterating</a><ul>
<li><a href="#One-dimensional">One-dimensional</a></li>
<li><a href="#Multidimensional">Multidimensional</a></li>
<li><a href="#Iterating">Iterating</a></li>
<li><a href="#Indexing with Arrays">Indexing with Arrays</a></li>
<li><a href="#Search max &amp; min">Search max &amp; min</a></li>
<li><a href="#np.ix">np.ix_()</a></li>
</ul>
</li>
<li><a href="#Shape Manipulation">Shape Manipulation</a><ul>
<li><a href="#Changing the shape">Changing the shape</a></li>
<li><a href="#Stacking together">Stacking together</a></li>
<li><a href="#Splitting">Splitting</a></li>
<li><a href="#Copy and Views">Copy and Views</a></li>
</ul>
</li>
</ul>
<h3 id="Array Creation">Array Creation</h3>


<h4 id="np.arange">np.arange</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import numpy as np</span><br><span class="line">&gt;&gt;&gt; a = np.arange(15).reshapre(3, 5)</span><br><span class="line">&gt;&gt;&gt; np.arange(10, 30, 5)</span><br><span class="line">array([10, 15, 20, 25])</span><br></pre></td></tr></table></figure>
<h4 id="np.array">np.array</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import numpy as np</span><br><span class="line">&gt;&gt;&gt; a = np.array([(2,3,4), (3,4,5)]) or</span><br><span class="line">&gt;&gt;&gt; a = np.array([ [2,3,4], [3,4,5] ])</span><br><span class="line">&gt;&gt;&gt; b = np.array([ [1,2], [3,4] ], dtype=complex)</span><br><span class="line">&gt;&gt;&gt; np.zeros(5)</span><br><span class="line">&gt;&gt;&gt; np.zeros((3,4))</span><br><span class="line">&gt;&gt;&gt; np.ones( (2,3,4), dtype=np.int16 ) # dtype can also be specified</span><br></pre></td></tr></table></figure>
<h3 id="Basic Operations">Basic Operations</h3>


<h4 id="dot">dot</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; A.dot(B) or</span><br><span class="line">&gt;&gt;&gt; np.dot(A, B)</span><br></pre></td></tr></table></figure>
<h4 id="axis">axis</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b = np.arange(12).reshape(3,4)</span><br><span class="line">array(</span><br><span class="line">[[ 0,  1,  2,  3],</span><br><span class="line"> [ 4,  5,  6,  7],</span><br><span class="line"> [ 8,  9, 10, 11]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b.sum(axis=0)  # sum of each column</span><br><span class="line">array([12, 15, 18, 21])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b.min(axis=1)  # min of each row</span><br><span class="line">array([0, 4, 8])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b.cumsum(axis=1)  # cumulative sum along each row</span><br><span class="line">array(</span><br><span class="line">[[ 0,  1,  3,  6],</span><br><span class="line"> [ 4,  9, 15, 22],</span><br><span class="line"> [ 8, 17, 27, 38]])</span><br></pre></td></tr></table></figure>
<h3 id="Indexing, Slicing and Iterating">Indexing, Slicing and Iterating</h3>


<h4 id="One-dimensional">One-dimensional</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(10)**3</span><br><span class="line">array([  0,   1,   8,  27,  64, 125, 216, 343, 512, 729])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[: 6 : 2] = -1000   # equivalent to a[0:6:2] = -1000; from start to position 6, exclusive, set every 2nd element (二次元) to -1000</span><br><span class="line">array([ -1000, 1, -1000, 27, -1000, 125, 216, 343, 512, 729])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[ : :-1]  # reversed a</span><br><span class="line">array([  729,   512,   343,   216,   125, -1000,    27, -1000,     1, -1000])</span><br></pre></td></tr></table></figure>
<h4 id="Multidimensional">Multidimensional</h4>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def f(x,y):</span><br><span class="line">...     return 10*x+y</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b = np.fromfunction(f,(5,4),dtype=int)</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">array(</span><br><span class="line">[[ 0,  1,  2,  3],</span><br><span class="line"> [10, 11, 12, 13],</span><br><span class="line"> [20, 21, 22, 23],</span><br><span class="line"> [30, 31, 32, 33],</span><br><span class="line"> [40, 41, 42, 43]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b[1:3, : ]   # each column in the second and third row of b</span><br><span class="line">array(</span><br><span class="line">[[10, 11, 12, 13],</span><br><span class="line"> [20, 21, 22, 23]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c = np.array( [[[  0,  1,  2],</span><br><span class="line">...                 [ 10, 12, 13]],</span><br><span class="line">...                [[100,101,102],</span><br><span class="line">...                 [110,112,113]]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c.shape</span><br><span class="line">(2, 2, 3)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c[1,...]     # same as c[1,:,:] or c[1]</span><br><span class="line">array(</span><br><span class="line">[[100, 101, 102],</span><br><span class="line"> [110, 112, 113]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c[...,2]       # same as c[:,:,2]</span><br><span class="line">array(</span><br><span class="line">[[  2,  13],</span><br><span class="line"> [102, 113]])</span><br></pre></td></tr></table></figure>
<h4 id="Iterating">Iterating</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; for row in b:</span><br><span class="line">&gt;&gt;&gt;     print(row)</span><br><span class="line">[0 1 2 3]</span><br><span class="line">[10 11 12 13]</span><br><span class="line">[20 21 22 23]</span><br><span class="line">[30 31 32 33]</span><br><span class="line">[40 41 42 43]</span><br><span class="line">&gt;&gt;&gt; for element in b.flat:</span><br><span class="line">        print(element)  # this will print every element.</span><br></pre></td></tr></table></figure>
<p><code>key words: flat</code></p>
<h4 id="Indexing with Arrays">Indexing with Arrays</h4>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(12).reshape(3,4)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[ 0,  1,  2,  3],</span><br><span class="line"> [ 4,  5,  6,  7],</span><br><span class="line"> [ 8,  9, 10, 11]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; i = np.array([ [0,1],</span><br><span class="line">                    [1,2] ] )  # indices for the first dim of a</span><br><span class="line">&gt;&gt;&gt; j = np.array( [ [2,1],</span><br><span class="line">                     [3,3] ] ) # indices for the second dim</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[i,j]  # i and j must have equal shape</span><br><span class="line">array(</span><br><span class="line">[[ 2,  5],</span><br><span class="line"> [ 7, 11]])</span><br><span class="line"> 组合顺序如下：</span><br><span class="line"> (0, 2), (1, 1)</span><br><span class="line"> (1, 3), (2, 3)</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[i] # equal to a[i, :]</span><br><span class="line">array(</span><br><span class="line">[[[0, 1, 2, 3],</span><br><span class="line">    [4, 5 ,6, 7]],</span><br><span class="line"></span><br><span class="line">   [[4, 5, 6, 7],</span><br><span class="line">    [8, 9,10,11]]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[i,2]</span><br><span class="line">array([[ 2,  6],</span><br><span class="line">         [ 6, 10]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[:,j]   # i.e., a[ : , j]</span><br><span class="line">array(</span><br><span class="line">[[[ 2,  1],</span><br><span class="line">    [ 3,  3]],</span><br><span class="line">   [[ 6,  5],</span><br><span class="line">    [ 7,  7]],</span><br><span class="line">   [[10,  9],</span><br><span class="line">    [11, 11]]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; l = [i,j]</span><br><span class="line">&gt;&gt;&gt; a[l]      # equivalent to a[i,j]</span><br><span class="line">array(</span><br><span class="line">[[ 2,  5],</span><br><span class="line">   [ 7, 11]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s = np.array( [i,j] ) # s.shape = (2, 2, 2)</span><br><span class="line">&gt;&gt;&gt; a[s]      # not what we want</span><br><span class="line">Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in ?</span><br><span class="line">IndexError: index (3) out of range (0&lt;=index&lt;=2) in dimension 0</span><br><span class="line">&gt;&gt;&gt; a[tuple(s)]       # same as a[i,j]</span><br><span class="line">array(</span><br><span class="line">[[ 2,  5],</span><br><span class="line">   [ 7, 11]])</span><br></pre></td></tr></table></figure>
<h4 id="Search max & min">Search max & min</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; time = np.linspace(20, 145, 5)    # time scale</span><br><span class="line">&gt;&gt;&gt; data = np.sin(np.arange(20)).reshape(5,4)</span><br><span class="line">&gt;&gt;&gt; time</span><br><span class="line">array([  20\.  ,   51.25,   82.5 ,  113.75,  145\.  ])</span><br><span class="line">&gt;&gt;&gt; data</span><br><span class="line">array(</span><br><span class="line">[[ 0\.       ,  0.84147098,  0.90929743,  0.14112001],</span><br><span class="line">   [-0.7568025 , -0.95892427, -0.2794155 ,  0.6569866 ],</span><br><span class="line">   [ 0.98935825,  0.41211849, -0.54402111, -0.99999021],</span><br><span class="line">   [-0.53657292,  0.42016704,  0.99060736,  0.65028784],</span><br><span class="line">   [-0.28790332, -0.96139749, -0.75098725,  0.14987721]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; ind = data.argmax(axis=0)  # index of the maxima for each series</span><br><span class="line">&gt;&gt;&gt; ind</span><br><span class="line">array([2, 0, 3, 1]) # 位置</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; time_max = time[ind]    # times corresponding to the maxima</span><br><span class="line">&gt;&gt;&gt; data_max = data[ind, xrange(data.shape[1])] # =&gt; data[ind[0],0], data[ind[1],1]. 等价于data[ind, range(4)]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; time_max</span><br><span class="line">array([  82.5 ,   20\.  ,  113.75,   51.25])</span><br><span class="line">&gt;&gt;&gt; data_max</span><br><span class="line">array([ 0.98935825,  0.84147098,  0.99060736,  0.6569866 ])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.all(data_max == data.max(axis=0))</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<p><code>key words: data.argmax(axis=0), data.max(axis=0)</code></p>
<h4 id="np.ix">np.ix_()</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.array([2,3,4,5])</span><br><span class="line">&gt;&gt;&gt; b = np.array([8,5,4])</span><br><span class="line">&gt;&gt;&gt; c = np.array([5,4,6,8,3])</span><br><span class="line">&gt;&gt;&gt; ax,bx,cx = np.ix_(a,b,c)</span><br><span class="line">&gt;&gt;&gt; ax</span><br><span class="line">array(</span><br><span class="line">[[[2]],</span><br><span class="line">   [[3]],</span><br><span class="line">   [[4]],</span><br><span class="line">   [[5]]])</span><br><span class="line">&gt;&gt;&gt; bx</span><br><span class="line">array(</span><br><span class="line">[[[8],</span><br><span class="line">    [5],</span><br><span class="line">    [4]]])</span><br><span class="line">&gt;&gt;&gt; cx</span><br><span class="line">array(</span><br><span class="line">[[[5, 4, 6, 8, 3]]])</span><br><span class="line">&gt;&gt;&gt; ax.shape, bx.shape, cx.shape</span><br><span class="line">((4, 1, 1), (1, 3, 1), (1, 1, 5))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(10).reshape(2,5)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[0, 1, 2, 3, 4],</span><br><span class="line"> [5, 6, 7, 8, 9]])</span><br><span class="line"> &gt;&gt;&gt; ixgrid = np.ix_([0,1], [2,4])</span><br><span class="line"> &gt;&gt;&gt; ixgrid</span><br><span class="line"> (array([[0],</span><br><span class="line">          [1]], array([[2, 4]]))</span><br><span class="line"> &gt;&gt;&gt; ixgrid[0].shape, ixgrid[1].shape</span><br><span class="line"> ((2,1), (1,2))</span><br><span class="line"> &gt;&gt;&gt; a[ixgrid]</span><br><span class="line"> array([[2, 4],</span><br><span class="line">         [7, 9]])</span><br></pre></td></tr></table></figure>
<p><code>key words: np.ix_()</code>，可以发现从 ax 到 cx，分别对应 4，3，5。</p>
<h3 id="Shape Manipulation">Shape Manipulation</h3>


<h4 id="Changing the shape">Changing the shape</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((3,4)))</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[ 2.,  8.,  0.,  6.],</span><br><span class="line"> [ 4.,  5.,  1.,  1.],</span><br><span class="line"> [ 8.,  9.,  3.,  6.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a.ravel() # flatten the array</span><br><span class="line">array([ 2.,  8.,  0.,  6.,  4.,  5.,  1.,  1.,  8.,  9.,  3.,  6.])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a.resize((2,6))</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[ 2.,  8.,  0.,  6.,  4.,  5.],</span><br><span class="line"> [ 1.,  1.,  8.,  9.,  3.,  6.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a.reshape(3,-1) # equal to a.reshape(3, 4)</span><br><span class="line">array(</span><br><span class="line">[[ 2.,  8.,  0.,  6.],</span><br><span class="line"> [ 4.,  5.,  1.,  1.],</span><br><span class="line"> [ 8.,  9.,  3.,  6.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(30)</span><br><span class="line">&gt;&gt;&gt; a.shape = 2,-1,3  # -1 means &quot;whatever is needed&quot;</span><br><span class="line">&gt;&gt;&gt; a.shape</span><br><span class="line">(2, 5, 3)</span><br></pre></td></tr></table></figure>
<p><code>key words: ravel, reshape, resize</code></p>
<h4 id="Stacking together">Stacking together</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((2,2)))</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[ 8.,  8.],</span><br><span class="line"> [ 0.,  0.]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b = np.floor(10*np.random.random((2,2)))</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">array(</span><br><span class="line">[[ 1.,  8.],</span><br><span class="line"> [ 0.,  4.]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.vstack((a,b))  # vertical stack</span><br><span class="line">array(</span><br><span class="line">[[ 8.,  8.],</span><br><span class="line"> [ 0.,  0.],</span><br><span class="line"> [ 1.,  8.],</span><br><span class="line"> [ 0.,  4.]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.hstack((a,b))  # horizontal stack</span><br><span class="line">array(</span><br><span class="line">[[ 8.,  8.,  1.,  8.],</span><br><span class="line"> [ 0.,  0.,  0.,  4.]])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from numpy import newaxis</span><br><span class="line">&gt;&gt;&gt; np.column_stack((a,b))   # With 2D arrays, it&apos;s equal to np.hstack((a, b))</span><br><span class="line">array(</span><br><span class="line">[[ 8.,  8.,  1.,  8.],</span><br><span class="line"> [ 0.,  0.,  0.,  4.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.array([4.,2.])  # a.shape = (2,)</span><br><span class="line">array([4., 2.])</span><br><span class="line">&gt;&gt;&gt; b = np.array([3.,8.])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a[:, newaxis]  # This allows to have a 2D columns vector  a.shape = (2, 1)</span><br><span class="line">array(</span><br><span class="line">[[ 4.],</span><br><span class="line"> [ 2.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.column_stack((a[:,newaxis],b[:,newaxis]))  # equal to np.vstack(a, b)</span><br><span class="line">array(</span><br><span class="line">[[ 4.,  3.],</span><br><span class="line"> [ 2.,  8.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.vstack((a[:,newaxis],b[:,newaxis])) # The behavior of vstack is different</span><br><span class="line">array(</span><br><span class="line">[[ 4.],</span><br><span class="line"> [ 2.],</span><br><span class="line"> [ 3.],</span><br><span class="line"> [ 8.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.vstack((a, b))</span><br><span class="line">array(</span><br><span class="line">[[ 4.,  2.],</span><br><span class="line"> [ 3.,  8.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = np.arange(0,10,2)  # x=([0,2,4,6,8])</span><br><span class="line">&gt;&gt;&gt; y = np.arange(5)   # y=([0,1,2,3,4])</span><br><span class="line">&gt;&gt;&gt; m = np.vstack([x,y])   # m=([[0,2,4,6,8],</span><br><span class="line">                                   [0,1,2,3,4]])</span><br><span class="line">&gt;&gt;&gt; xy = np.hstack([x,y])  # xy =([0,2,4,6,8,0,1,2,3,4])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In complex cases, _r and _c are useful for creating arrays by stacking numbers along one axis. They allow the use of range literals (”:”) :</span><br><span class="line">&gt;&gt;&gt; np.r_[1:4,0,4]</span><br><span class="line">array([1, 2, 3, 0, 4])</span><br></pre></td></tr></table></figure>
<p><code>key words: hstack, vstack, newaxis</code>，注意 Vector 的连接方法。</p>
<h4 id="Splitting">Splitting</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.floor(10*np.random.random((2,12)))</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[ 9.,  5.,  6.,  3.,  6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],</span><br><span class="line"> [ 1.,  4.,  9.,  2.,  2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.hsplit(a,3)   # Split a into 3</span><br><span class="line">[array(</span><br><span class="line">[[ 9.,  5.,  6.,  3.],</span><br><span class="line"> [ 1.,  4.,  9.,  2.]]),</span><br><span class="line"> array(</span><br><span class="line"> [[ 6.,  8.,  0.,  7.],</span><br><span class="line"> [ 2.,  1.,  0.,  6.]]),</span><br><span class="line"> array(</span><br><span class="line"> [[ 9.,  7.,  2.,  7.],</span><br><span class="line"> [ 2.,  2.,  4.,  0.]])]</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; np.hsplit(a,(3,4))   # Split a after the third and the fourth column</span><br><span class="line">[array(</span><br><span class="line">[[ 9.,  5.,  6.],</span><br><span class="line"> [ 1.,  4.,  9.]]),</span><br><span class="line"> array(</span><br><span class="line"> [[ 3.],</span><br><span class="line"> [ 2.]]),</span><br><span class="line"> array(</span><br><span class="line"> [[ 6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],</span><br><span class="line"> [ 2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])]</span><br></pre></td></tr></table></figure>
<p><code>key words: hsplit</code></p>
<h4 id="Copy and Views">Copy and Views</h4>

 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c = a.view()</span><br><span class="line">&gt;&gt;&gt; c is a</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; c.base is a   # c is a view of the data owned by a</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; c.flags.owndata</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; c.shape = 2,6    # a&apos;s shape doesn&apos;t change</span><br><span class="line">&gt;&gt;&gt; a.shape</span><br><span class="line">(3, 4)</span><br><span class="line">&gt;&gt;&gt; c[0,4] = 1234    # a&apos;s data changes</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[   0,    1,    2,    3],</span><br><span class="line"> [1234,    5,    6,    7],</span><br><span class="line"> [   8,    9,   10,   11]])</span><br></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = a.copy()  # a new array object with new data is created</span><br><span class="line">&gt;&gt;&gt; d is a</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; d.base is a   # d doesn&apos;t share anything with a</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; d[0,0] = 9999</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array(</span><br><span class="line">[[   0,    1,    2,    3],</span><br><span class="line"> [1234,    5,    6,    7],</span><br><span class="line"> [   8,    9,   10,   11]])</span><br></pre></td></tr></table></figure>
<p><code>key words: view, base, copy</code><br><code>view</code> 复制了 data 但不复制 shape，就是原始数据的 view； <code>copy</code> 完全复制一份。</p>
<p>引自<a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="noopener">官方手册</a></p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2016/09/19/2016-09-19-NumPy/">
    <time datetime="2016-09-19T13:32:55.000Z" class="entry-date">
        2016-09-19
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/Coding/">Coding</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataScience/">DataScience</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NumPy/">NumPy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
</article>





  
    <article id="post-2016-09-04-Ubuntu-VirtualBox-Vagrant-questions" class="post-2016-09-04-Ubuntu-VirtualBox-Vagrant-questions post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/2016/09/04/2016-09-04-Ubuntu-VirtualBox-Vagrant-questions/">Ubuntu16.04 安装 VirtualBox &amp; Vagrant 管理 VirtualBox 各种问题总结</a>
    </h1>
  

        
        <!-- <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://www.yam.gift/2016/09/04/2016-09-04-Ubuntu-VirtualBox-Vagrant-questions/" data-id="cjtx2yw680002vcccm6pquccf" class="leave-reply bdsharebuttonbox" data-cmd="more">undefined</a>
        </div> --><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
            <!-- Table of Contents -->
              
        <h2 id="Ubuntu-下安装-VirtualBox"><a href="#Ubuntu-下安装-VirtualBox" class="headerlink" title="Ubuntu 下安装 VirtualBox"></a>Ubuntu 下安装 VirtualBox</h2><ul>
<li><a href="http://blog.csdn.net/flm2003/article/details/8168628" target="_blank" rel="noopener">Ubuntu下轻松安装virtualbox</a></li>
</ul>
<p>注意：  </p>
<ul>
<li>务必要仔细查看用户手册上对系统和必要环境的依赖。</li>
<li>如果 kernel header 不一致，需要更新 kernel：  <ul>
<li><code>sudo apt-get install linux-headers-generic</code> 或者  </li>
<li><code>sudo apt-get install linux-headers-$(uname -r)</code><br><code>uname -r</code> 等于你的版本内核，比如我的：<code>4.4.0-21-generic</code></li>
</ul>
</li>
<li>如果不能<a href="http://askubuntu.com/questions/762136/cannot-reinstall-virtualbox-on-ubuntu-16-04" target="_blank" rel="noopener">重装VBox</a>，需要修改BIOS设置：  <ul>
<li>Security 中的 Secure Boot 设置为“Disabled” （一般设置这个就可以了吧）</li>
<li>Startup中的 UEFI/Legacy Boot 选 Both</li>
<li>Priority 选 Legacy First，CSM Support 选 Yes<br>包括类似 Surface Pro，都可以这样操作。<br>另外，由于现在的主板很多都带有 UEFI Secure Boot 功能，可能导致使用USB设备启动不了系统。用此方法也可以搞定。<br>参考至： <a href="http://blog.csdn.net/tanaya/article/details/8846779" target="_blank" rel="noopener">电脑无法从USB启动可能是 UEFI Secure Boot 在捣鬼！</a></li>
</ul>
</li>
</ul>
<h2 id="使用-Vagrant-管理-VirtualBox"><a href="#使用-Vagrant-管理-VirtualBox" class="headerlink" title="使用 Vagrant 管理 VirtualBox"></a>使用 Vagrant 管理 VirtualBox</h2><ul>
<li><a href="http://wp.fungo.me/linux/vagrant-for-programmer-ch1.html" target="_blank" rel="noopener">Vagrant：程序员的VirtualBox</a>  </li>
</ul>
<p>注意：  </p>
<ul>
<li>如果在 <code>vagrant up</code> 时碰到<a href="https://github.com/lynnaloo/xtuple-vagrant/issues/13" target="_blank" rel="noopener">VirtualBox is complaining that the kernel module is not loaded</a>，可能需要这个命令：  <ul>
<li><code>sudo /usr/lib/virtualbox/vboxdrv.sh setup</code><br>注意此命令支持Ubuntu15.0，16.0，其他版本不一定支持。  </li>
<li>或者 <code>sudo /etc/init.d/vboxdrv setup</code><br>参见：<a href="https://gist.github.com/geraldvillorente/977d16624e079ba12741" target="_blank" rel="noopener">vagrant-virtualbox-failed</a>  </li>
</ul>
</li>
<li>如果输入在 <code>vagrant up</code> 时出现以下错误，可能需要重新安装  vagrant，地址在这里：<a href="http://www.vagrantup.com/downloads.html" target="_blank" rel="noopener">vagrantup</a>   </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant package</span><br><span class="line">No usable default provider could be found for your system.  </span><br><span class="line"></span><br><span class="line">$ vagrant package --base vagrant-ubuntu64</span><br><span class="line">Vagrant has detected that you have a version of VirtualBox installed that is not supported by this version of Vagrant.   </span><br><span class="line">Please install one of the supported versions listed below to use Vagrant: 4.0, 4.1, 4.2, 4.3, 5.0</span><br></pre></td></tr></table></figure>
<p>   可参考这两个地方：  </p>
<ul>
<li><a href="http://stackoverflow.com/questions/29450437/unable-to-vagrant-up-how-to-set-providers" target="_blank" rel="noopener">Unable to vagrant up - how to set “providers”</a></li>
<li><a href="https://github.com/mitchellh/vagrant/issues/7578" target="_blank" rel="noopener">Make Virtualbox 5.1 final version compatible</a>  </li>
</ul>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2016/09/04/2016-09-04-Ubuntu-VirtualBox-Vagrant-questions/">
    <time datetime="2016-09-04T12:59:08.000Z" class="entry-date">
        2016-09-04
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/Feeling/">Feeling</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vagrant/">Vagrant</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VirtualBox/">VirtualBox</a></li></ul>

    </footer>
</article>





  
    <article id="post-2016-09-03-Simpson-Paradox" class="post-2016-09-03-Simpson-Paradox post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/2016/09/03/2016-09-03-Simpson-Paradox/">辛普森悖论及其哲学思考</a>
    </h1>
  

        
        <!-- <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://www.yam.gift/2016/09/03/2016-09-03-Simpson-Paradox/" data-id="cjtx2yw640001vcccxzhmf4mv" class="leave-reply bdsharebuttonbox" data-cmd="more">undefined</a>
        </div> --><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
            <!-- Table of Contents -->
              
        <h3 id="什么是辛普森悖论"><a href="#什么是辛普森悖论" class="headerlink" title="什么是辛普森悖论"></a>什么是辛普森悖论</h3><p>某个条件下的两组数据，分别讨论时满足某种性质，但合并起来可能导致相反的结论。这就是辛普森悖论。</p>
<p>假设某公司考核员工有个指标叫迟到出错率=（迟到次数+出错次数）/（出勤次数+工作个数），包括出错率和迟到率2个指标。<br>A员工做了5件<strong>重要</strong>工作，出错1件；<br>B员工做了100件<strong>很简单</strong>的小事情，出错21件。<br>A员工出勤100次，迟到29次，每次<strong>1分钟</strong>；<br>B员工出勤10次，迟到9次，每次<strong>2小时</strong>。<br>则：A员工出错率20%，迟到率29%；B员工出错率21%，迟到率90%，如果分别看出错率和迟到率，A员工明显比B员工优秀。<br>那么实际情况呢：A员工迟到出错率30/105；B员工迟到出错率30/110，B员工评分高于A员工。<br>这就是辛普森悖论的典型案例。</p>
<h3 id="为什么会出现辛普森悖论"><a href="#为什么会出现辛普森悖论" class="headerlink" title="为什么会出现辛普森悖论"></a>为什么会出现辛普森悖论</h3><p>1、用相对比例（百分比）衡量结果。换句话说，用相对坐标去描述绝对坐标的情况。<br>常见的例子就是百度Google经常能搜出来的录取比例，女生占比等，比如这篇<a href="http://www.guokr.com/article/6222/" target="_blank" rel="noopener">辛普森悖论：诡异的男女比例</a>以及维基百科的<a href="https://zh.wikipedia.org/zh-cn/%E8%BE%9B%E6%99%AE%E6%A3%AE%E6%82%96%E8%AE%BA" target="_blank" rel="noopener">例子</a>。这种例子直接用绝对数值去看就可破解悖论。<br>2、数据本身是由不同部分构成，而这不同部分的权重可能不同。<br>第1点说的常见的例子，其实就是将不同结构的权重按 1:1 进行分配的结果（即A学院，B学院）。<br>我们的案例其实也是这样的，我们做个极端的推理，假设迟到率权重为0，则A员工迟到出错率20%，B员工21%，A员工评分高于B员工。<br>3、除了构成部分本身权重不同外，不同部分的质量也有区别。<br>其实，到了这里，我们已经慢慢在接近本质了。那就是：质与量的矛盾。我们身处一个“评价系统”中，自然选择和进化论就是评价的结果。<br>除了我们熟知的各种数据指标外，还包括我们每一个决策和行为。前者结果非常直观，后者则表现为“命运”。所有的结果都是“物竞天择，适者生存”。这个话题到此为止。  </p>
<p>所以，其实这是通过量对质进行评价过程中的三个层次：<br>第一层：也是最外面的那层，是用相对比例（百分比）表示而造成的结果扭曲；这一层是“显示”出（导致）的错误。<br>第二层：数据不同构成部分“重要性”（权重）不同而造成的结果扭曲；这一层是未考虑“结构”导致的错误。<br>第三层：每个构成部分数据本身的“重要性”不同而造成的结果扭曲；这一层是未考虑“内容”导致的错误。  </p>
<p>综上，我们可以重新定义一下辛普森悖论：<br>人们在对事物的评价过程中，未考虑每组数据本身的重要性以及不同部分数据的结构的“权重”，并采用相对指标对结果进行描述而造成的对真实结果的扭曲的一类现象。  </p>
<p>再扩展一下，上述定义很重要的两个地方：“人们”和“现象”。<br>就是说，评价是以人的某种需求为中心的，需求不同，观察到的“现象”亦不同。<br>这是否让我们想起了薛定谔的那只猫？<br>另外，是什么让“人”进行“评价”？这个过程究竟是有意识的还是无意识的？  </p>
<h3 id="结果应用"><a href="#结果应用" class="headerlink" title="结果应用"></a>结果应用</h3><p>简单来说，辛普森悖论告诉我们，任何时候不能简单地根据数据结果而轻易得出一些看似确定的结论。真正的结论需要我们对分析目的进行深入思考，对数据本身进行深入细致地探索研究后才有可能得出。</p>
<blockquote>
<p>永远对知识充满敬畏。弱小和无知不是生存的障碍，傲慢才是。</p>
</blockquote>
<h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><p><a href="http://vudlab.com/simpsons/" target="_blank" rel="noopener">Simpson’s Paradox</a></p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2016/09/03/2016-09-03-Simpson-Paradox/">
    <time datetime="2016-09-03T06:26:49.000Z" class="entry-date">
        2016-09-03
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/Thinking/">Thinking</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SimpsonParadox/">SimpsonParadox</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Statistics/">Statistics</a></li></ul>

    </footer>
</article>





  
    <article id="post-2016-03-31-Machines-of-Loving-Grace" class="post-2016-03-31-Machines-of-Loving-Grace post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/2016/03/31/2016-03-31-Machines-of-Loving-Grace/">《与机器人共舞》读后感兼谈 AI 与 IA</a>
    </h1>
  

        
        <!-- <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://www.yam.gift/2016/03/31/2016-03-31-Machines-of-Loving-Grace/" data-id="cjtx2yw74001yvccchvujyvpv" class="leave-reply bdsharebuttonbox" data-cmd="more">undefined</a>
        </div> --><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
            <!-- Table of Contents -->
              
        <p>一位高级科技记者：约翰·马尔科夫的大作，从作者的出身我们就可以猜想这本书的大致风格，绝非理工技术男的思维，写出来的也绝不是纯粹理论或实践方面的干货。看完后，基本正如所料。全书主线非常鲜明，但每一部分内部其实有一点凌乱，一会儿是这个人，一会儿又是另一个人，光是那许多英文名字就已经让人头大了。我给本书打 7 分，还有 0.5 送给亲笔签名。</p>
<p><img src="http://qnimg.lovevivian.cn/machine-of-loving-grace-3.jpeg" alt=""></p>
<p><img src="http://qnimg.lovevivian.cn/machine-of-loving-grace-2.jpeg" alt=""></p>
<p><img src="http://qnimg.lovevivian.cn/machine-of-loving-grace-1.jpeg" alt=""></p>
<p><strong>一条主线：AI 与 IA之争→由 AI 转向 IA</strong></p>
<p>从书的标题《与机器人共舞》就可以看出坐着的观点是支持 IA，全书也始终秉持这一观点。曾经二十年左右的沉寂，人工智能被沦为笑柄，随着硬件运算能力提升，神经网络跑出了非常优秀的结果，人工智能在 2014 年重见曙光，一发不可收拾，看起来前景良好。但同时很多专家却非常警惕，将人工智能视为人类最大的威胁；除此之外，还有 “意识” 和 “伦理” 问题，也让人工智能蒙上了一层淡淡的阴影。</p>
<p>我们都知道，机器在运算方面远超人类，绝大多数专家也都认同迟早有一天，机器能够超越人类，那么这时候，人类的位置在哪里？这个时点被人工智能界称为”奇点“，一旦奇点临近，计算机将获得质的飞跃，人类将无法理解其行为。就好像二维世界的蚂蚁无法理解三维世界的人类一样。关于这一天还需要多久学术界争论不停也没有定论，可能唯一能做的就是谨慎再谨慎。</p>
<p>据一位做数据的朋友说，他已经无法理解大数据背后自动关联的规则，这也是他非常担心的地方。数据会 ”自动“ 关联起来，依据是什么？仔细想想的确有些毛骨悚然。其实，其他很多方面的外在表现已经让人类无法理解了，比如神经网络隐藏层的运作（虽说目前已经有公司能够通过技术手段”观察“到隐藏 layer 的运作方式，但还没到实践环节），吴恩达说不可思议，的确如此。再比如集群效应，当一大堆微型机器人凑在一起会发生什么？会不会从量变引发质变？</p>
<p>去年上映的《机械姬》令人印象颇深，类似的还有《超体》以及前几年的《超验骇客》，人工智能最后掌控全世界……当然，现实情况是人工智能还比较”傻“，更加不会有意识，形象思维没法与人类相比，他”看见了“，但”看不懂“。</p>
<p>正因为这种种原因，很多专家转向 IA 阵营。IA 以人类为核心，增强和扩展人类的能力，比如 Google 搜索、Google 眼镜、Siri 等等，他们提高了”人类“生存的效率和能力，同时对人类几乎没有威胁。另一方面，由于 IA 并不需要太”智能“，因此，实现起来也较容易。这也是 IA 阵营越来越庞大的原因。</p>
<p>AI 与 IA 斗争了几十年，矛盾从未间断，我们很难预测未来会如何。也许，随着IA逐渐普及成熟，突然转向AI也不一定。用作者的话来说，这之间的矛盾以及未来如何发展，取决于人类科学家的决策。我们大胆预测，AI 和 IA 依然将在各自领域不断向前，我们不知道奇点几时来临，唯一能做的只有在它到来之前做好充分的准备。</p>
<p><strong>IA</strong></p>
<p>我觉得有必要单独聊一下 IA。IA 以人为核心，一切为人类服务，机器将作为人类的好朋友、好伙伴。这实际上是对人类能力的扩充。我们有 Google 搜索，也有 Siri，还可以想象剪刀手爱德华，又或者钢铁侠，甚至某一天，我们可以上传自己的思维，或者在大脑内植入芯片，瞬间学会某个领域的所有知识。我不知道还要多久，大家会变成半机械人，但从目前的趋势来看这一天也许会很快。我们绝大多数人离开网络已经无法存活，而网络的载体正在越来越方便人使用，从笨重的 PC 到笔记本到平板手机，再到手环、眼镜和植入芯片。人类已经逐渐在将自己”上传“到网络上，从键盘敲字，到智能硬件采集，再到芯片，每个人其实已经处于一张无形的大网中。终有一天，我们将解放双脚、双手这些肉体，直接用意念控制，如果到了这一天，那所有人类从肉体到精神都将连接在一起。我无权评判这一切的好坏，只是觉得这样的生活想想有些恐怖——我们会不会有一天宁愿呆在培养皿中，正如《黑客帝国》中一样。结果就是，人类被控制，或者灭绝。</p>
<p><strong>AI</strong></p>
<p>我非常认同一个观点：绝大多数人对人工智能本身是有误解的，因为我们会下意识地将其 “拟人化”，还有这个尴尬的名字。然而，在 AI 的角度来看，也许世界完全是另一副样子。举个例子，给一台机器的目标是”复制更多的笑脸“，它可能会将所能用到的一切资源都变成一个笑脸，包括人类以及其他能用到的一切，最后可能会奔向宇宙，依然不停地在复制笑脸。想象一下《超验骇客》里面的纳米技术（这个东西很有可能会被实现）。对于机器来说，我他妈才不管什么是意识，什么是形象思维，我也不会去管《泰坦尼克号》真好看，爱情最感人，亲情真伟大……他的目的就是不断完成自己的目标，而且越来越高效。我觉得这才是 AI 真正恐怖的地方，正如《机械姬》中的伊娃一样，人类在她看来就跟我们当初看到野兽一样啊，凭什么同情你？凭什么听你的？我比你聪明那么多，能力强那么多。这就跟让你去听从猪指挥一样。AI 根本不需要意识（当然也可能有，但这不重要），他只要比你强大，那你就只有被奴役的份。这个，可以叫 ”物竞天择，适者生存“。机器成为 ”新物种“ 取代人类。最后的结果，人类被奴役，或者被灭绝。</p>
<p><strong>总结</strong></p>
<p>其实，无论 IA 还是 AI，都有一种改造 ”人类“ 的因子在，只是 IA 是一步一步侵入，而 AI 可能比较迅速猛烈和直接。既然我们有理由对 AI 恐惧和谨慎，那么当然同样也需对 IA 如此。我也不知道我的观点是否正确，总觉得人类之所以为人类，除了会使用工具外，还因为人类有七情六欲，有生老病死、悲欢离合。如果有一天，每个人都长生不老，每个人都帅气美丽，每个人都一样聪明，有同样的超能力，那这个世界会变成什么？如果主机系统感染病毒，难道人类就此终结？这还只是机器在人类控制下的结果，并没有考虑机器逆袭的情况。也许，这就是人类的终极命运吧，下一个轮回。</p>
<blockquote>
<p>后记：谈到 AI 和 IA 突然想到了效率与情感。 举个例子，“他死了，她也死了”和“他死了，她伤心而死”。 信息论（效率）角度而言第一句更容易记住，因为它短，但人们更能记住第二句，因为它有“情感”，而人正是情感动物。 回到 AI 和 IA，其实就对人类而言 IA 更加合适，因为它更加侧重与人交互，借助机器的效率和人类的情感实现人类整体效用最大。 一直觉得真正的人工智能是另一种物种的存在，人之所以是人，就因为他是一个“综合系统”，人类会犯错，很多时候不理智，也会生病，会死亡。可是人工智能不会，所以无论他再怎么智能，那也不是人，也许，将来会成为超越人类的另一个物种。所以也不难理解为什么那么多牛人抵触人工智能，但抵触有什么用。物竞天择，适者生存。若干年后，未必会有人类… </p>
</blockquote>
<p>参考：</p>
<ul>
<li><p><a href="https://waitbutwhy.com/2015/01/artificial-intelligence-revolution-1.html" target="_blank" rel="noopener">The Artificial Intelligence Revolution: Part 1 - The Road to Superintelligence</a></p>
</li>
<li><p><a href="https://waitbutwhy.com/2015/01/artificial-intelligence-revolution-2.html" target="_blank" rel="noopener">The Artificial Intelligence Revolution: Part 2 - Our Immortality or Extinction</a></p>
</li>
</ul>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2016/03/31/2016-03-31-Machines-of-Loving-Grace/">
    <time datetime="2016-03-31T14:00:00.000Z" class="entry-date">
        2016-03-31
    </time>
</a>
    
  <span class="article-delim">&#8226;</span>
  <div class="article-category">
  <a class="article-category-link" href="/categories/Thinking/">Thinking</a>
  </div>

    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine/">Machine</a></li></ul>

    </footer>
</article>





  
  
    <nav id="pagination">
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
      </nav>
    </nav>
  
</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>
  
    
  <aside class="widget">
    <h3 class="widget-title">Music</h3>
    <div class="widget-content">
      <audio src="http://qnimg.lovevivian.cn/miss.mp3" controls="controls"
             style="width:100%">
        您的浏览器不支持 audio 标签。
      </audio>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-content">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Coding/">Coding</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Feeling/">Feeling</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thinking/">Thinking</a><span class="category-list-count">8</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2019/03/31/2019-03-31-Nabokov-Favorite-Word/">《纳博科夫最喜欢的词》读书笔记与思考</a>
          </li>
        
          <li>
            <a href="/2018/12/15/2018-12-15-Text-Classification-Data-Plot/">绘制文本分类数据</a>
          </li>
        
          <li>
            <a href="/2018/09/30/2018-09-30-The-Science-of-Artificial/">西蒙《人工科学》笔记</a>
          </li>
        
          <li>
            <a href="/2018/08/14/2018-08-14-Ng-CNN/">NG CNN 笔记</a>
          </li>
        
          <li>
            <a href="/2018/07/31/C/2018-07-31-C-Advance-Weng-ZhejiangUniversity/">浙大翁恺老师《C 语言程序设计进阶》笔记</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-content">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/">AI</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Business/">Business</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNN/">CNN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Calculus/">Calculus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computational-Linguistics/">Computational Linguistics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataClearing/">DataClearing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataScience/">DataScience</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DeepLearning/">DeepLearning</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Diary/">Diary</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Economics/">Economics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gan/">Gan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Industry/">Industry</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LinearAlgebra/">LinearAlgebra</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine/">Machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MachineLearning/">MachineLearning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/">Math</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matplotlib/">Matplotlib</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/">NLP</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NumPy/">NumPy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pandas/">Pandas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Philosophy/">Philosophy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReinforcementLearning/">ReinforcementLearning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seaborn/">Seaborn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Simon/">Simon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SimpsonParadox/">SimpsonParadox</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Statistics/">Statistics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Style/">Style</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/System/">System</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vagrant/">Vagrant</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VirtualBox/">VirtualBox</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/">Visualization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZhouZhihua/">ZhouZhihua</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-content tagcloud">
      <a href="/tags/AI/" style="font-size: 20px;">AI</a> <a href="/tags/Business/" style="font-size: 10px;">Business</a> <a href="/tags/C/" style="font-size: 12.5px;">C</a> <a href="/tags/CNN/" style="font-size: 10px;">CNN</a> <a href="/tags/Calculus/" style="font-size: 10px;">Calculus</a> <a href="/tags/Computational-Linguistics/" style="font-size: 10px;">Computational Linguistics</a> <a href="/tags/DataClearing/" style="font-size: 10px;">DataClearing</a> <a href="/tags/DataScience/" style="font-size: 15px;">DataScience</a> <a href="/tags/DeepLearning/" style="font-size: 15px;">DeepLearning</a> <a href="/tags/Diary/" style="font-size: 10px;">Diary</a> <a href="/tags/Economics/" style="font-size: 10px;">Economics</a> <a href="/tags/Gan/" style="font-size: 10px;">Gan</a> <a href="/tags/Industry/" style="font-size: 10px;">Industry</a> <a href="/tags/LinearAlgebra/" style="font-size: 10px;">LinearAlgebra</a> <a href="/tags/Machine/" style="font-size: 10px;">Machine</a> <a href="/tags/MachineLearning/" style="font-size: 10px;">MachineLearning</a> <a href="/tags/Math/" style="font-size: 12.5px;">Math</a> <a href="/tags/Matplotlib/" style="font-size: 10px;">Matplotlib</a> <a href="/tags/NLP/" style="font-size: 17.5px;">NLP</a> <a href="/tags/NumPy/" style="font-size: 10px;">NumPy</a> <a href="/tags/Pandas/" style="font-size: 10px;">Pandas</a> <a href="/tags/Philosophy/" style="font-size: 10px;">Philosophy</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/ReinforcementLearning/" style="font-size: 10px;">ReinforcementLearning</a> <a href="/tags/Seaborn/" style="font-size: 10px;">Seaborn</a> <a href="/tags/Simon/" style="font-size: 10px;">Simon</a> <a href="/tags/SimpsonParadox/" style="font-size: 10px;">SimpsonParadox</a> <a href="/tags/Statistics/" style="font-size: 10px;">Statistics</a> <a href="/tags/Style/" style="font-size: 10px;">Style</a> <a href="/tags/System/" style="font-size: 12.5px;">System</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Vagrant/" style="font-size: 10px;">Vagrant</a> <a href="/tags/VirtualBox/" style="font-size: 10px;">VirtualBox</a> <a href="/tags/Visualization/" style="font-size: 10px;">Visualization</a> <a href="/tags/ZhouZhihua/" style="font-size: 10px;">ZhouZhihua</a>
    </div>
  </aside>

  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2019 Yam
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <!-- <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span> -->
    <!-- <span id="busuanzi_container_page_pv">本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span> -->
    <!-- <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次</span> -->

</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>